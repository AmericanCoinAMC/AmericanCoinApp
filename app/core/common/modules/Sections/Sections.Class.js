"use strict";var Section=function(){var t=this;t.db=new Database({refs:{primary:"security/sections"},schema:{primary:{name:{value:"="},authority:{value:"=",default:0}},priority:{order:function(t){return-t.authority}}},filters:{}})};Section.prototype.nameAvailable=function(t){var e=this;return new Promise(function(n,i){e.db.ref.root.child(e.db.ref.primary+"/name/"+t).once("value").then(function(t){n(!t.exists())}).catch(function(t){i(t)})})},Section.prototype.isAuthorized=function(t,e){var n=this;return new Promise(function(i,r){n.getSectionAuthority(e).then(function(e){i(t.authority>=e?!0:!1)}).catch(function(t){r(t)})})},Section.prototype.getSectionAuthority=function(t){var e=this;return new Promise(function(n,i){e.db.ref.root.child(e.db.ref.primary).orderByChild("name").equalTo(t).once("value").then(function(t){t.exists()?n(t.val().authority):i("Section Doesn't Exist")}).catch(function(t){i(t)})})};