app.factory("UserHashtags",["$firebaseArray",function(t){var e=t.$extend({userHasHashtag:function(t){if(t){var e,a=!1;return e=void 0==t.$id?t.id:t.$id,angular.forEach(this.$list,function(t){e==t.$id&&(a=!0)}),a}}});return function(t){return new e(t)}}]).factory("UserHashtagsService",["$q","$rootScope","HashtagObjectService",function(t,e,a){return{addHashtag:function(s){var r,o=t.defer();r=void 0==s.$id?s.id:s.$id;var n=rootRef.child("userHashtags/"+e.userInfo.$id+"/"+r);return n.set(a.buildMinifiedWithPriority(s)).then(function(){o.resolve(!0)}).catch(function(t){o.reject(t)}),o.promise},removeHashtag:function(a){var s,r=t.defer();s=void 0==a.$id?a.id:a.$id;var o=rootRef.child("userHashtags/"+e.userInfo.$id+"/"+s);return o.remove().then(function(){r.resolve(!0)}).catch(function(t){r.reject(t)}),r.promise}}}]).directive("userHashtagElement",["$rootScope","UserHashtags","UserHashtagsService",function(t,e,a){return{restrict:"E",scope:{hashtag:"="},templateUrl:"/core/common/Hashtag/userHashtags.html",link:function(s,r,o){s.userHashtags=e(rootRef.child("userHashtags/"+t.userInfo.$id)),s.$watch("userHashtags.userHasHashtag(hashtag)",function(t,e){void 0!=t&&(s.hasHashtag=t)},!0),s.toggleHashtag=function(t){s.userHashtags.userHasHashtag(t)?s.removeHashtag(t):s.addHashtag(t)},s.addHashtag=function(t){a.addHashtag(t).then(function(){}).catch(function(t){console.log(t),Message.toast({text:"Hubo un error.",theme:"toast-red"})})},s.removeHashtag=function(t){a.removeHashtag(t).then(function(){}).catch(function(t){console.log(t),Message.toast({text:"Hubo un error.",theme:"toast-red"})})}}}}]);