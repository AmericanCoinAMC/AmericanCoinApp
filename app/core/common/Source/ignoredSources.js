app.factory("IgnoredSources",["$firebaseArray",function(e){var r=e.$extend({isSourceIgnored:function(e){if(e){var r;r=void 0==e.$id?e.id:e.$id;var o=!1;return angular.forEach(this.$list,function(e){r==e.$id&&(o=!0)}),o}}});return function(e){return new r(e)}}]).factory("IgnoredSourcesService",["$q","$rootScope",function(e,r){return{ignoreSource:function(o){var n=e.defer(),i=rootRef.child("ignoredSources/"+r.userInfo.$id+"/"+o.$id);return i.set({eventDate:(new Date).getTime()}).then(function(){n.resolve(!0)}).catch(function(e){n.reject(e)}),n.promise},unignoreSource:function(o){var n=e.defer(),i=rootRef.child("ignoredSources/"+r.userInfo.$id+"/"+o.$id);return i.remove().then(function(){n.resolve(!0)}).catch(function(e){n.reject(e)}),n.promise}}}]).directive("isIgnored",["$rootScope","IgnoredSourcesService","Message","IgnoredSources","$timeout",function(e,r,o,n,i){return{restrict:"A",scope:{source:"="},link:function(r,o,i){r.ignoredSources=n(rootRef.child("ignoredSources/"+e.userInfo.$id)),r.ignoredSources.$loaded().then(function(){r.isIgnored=!r.ignoredSources.isSourceIgnored(r.source)}),r.$watch("ignoredSources",function(e,n){void 0!=e&&(r.isIgnored=!r.ignoredSources.isSourceIgnored(r.source),r.isIgnored?o.show():o.hide())},!0)}}}]);