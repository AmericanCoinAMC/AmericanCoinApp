app.factory("BookmarkHashtags",["$firebaseArray",function(t){var o=t.$extend({isBookmarked:function(t){if(t){var o=t.$id||t.id,a=!1;return angular.forEach(this.$list,function(t){o==t.$id&&(a=!0)}),a}},getTotal:function(){var t=0;return angular.forEach(this.$list,function(o){t+=1}),t}});return function(t){return new o(t)}}]).factory("BookmarkHashtagsService",["$q","$rootScope","HashtagObjectService",function(t,o,a){return{addHashtag:function(e){var r=t.defer(),n=rootRef.child("bookmarkedHashtags/"+o.userInfo.$id+"/"+this.getElementId(e));return n.set(a.buildMinified(e)).then(function(){r.resolve(!0)}).catch(function(t){r.reject(t)}),r.promise},removeHashtag:function(a){var e=t.defer(),r=rootRef.child("bookmarkedHashtags/"+o.userInfo.$id+"/"+this.getElementId(a));return r.remove().then(function(){e.resolve(!0)}).catch(function(t){e.reject(t)}),e.promise},getElementId:function(t){return t.$id||t.id}}}]).directive("bookmarkHashtagElement",["$rootScope","BookmarkHashtagsService",function(t,o){return{restrict:"E",scope:{hashtag:"="},templateUrl:"/core/common/Bookmark/bookmark.html",link:function(a,e,r){a.isBookmarked=!1,a.bookmarkHashtags=t.bookmarkHashtags,a.$watch("bookmarkHashtags.isBookmarked(hashtag)",function(t,o){void 0!=t&&(a.isBookmarked=t)},!0),a.$watch("hashtag",function(t,o){void 0!=t&&(a.hashtag=t)},!0),a.toggle=function(){a.isBookmarked?o.removeHashtag(a.hashtag):o.addHashtag(a.hashtag)}}}}]);