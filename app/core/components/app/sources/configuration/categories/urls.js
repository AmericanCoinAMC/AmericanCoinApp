app.directive("sourceCategoryUrls",["$timeout","Message","$window",function(o,e,t){return{restrict:"E",scope:{source:"=",category:"="},templateUrl:"/core/components/app/sources/configuration/categories/urls.html",link:function(c,r,n){c.add=function(){c.sourceCategoryUrlClass.create({url:c.categoryUrlInput}).then(function(){c.cancel()}).catch(function(o){console.log(o),e.toast({text:"Hubo un error.",theme:"toast-red"}),c.cancel()})},c.remove=function(o){c.sourceCategoryUrlClass.remove(o).then(function(){c.cancel()}).catch(function(o){console.log(o),e.toast({text:"Hubo un error.",theme:"toast-red"}),c.cancel()})},c.loadUrl=function(o){t.open(o,"_blank")},c.cancel=function(){c.categoryUrlInput=""},c.$watch("source",function(e,t){void 0!=e&&(c.source=e,c.source&&c.category&&(c.sourceCategoryUrlClass=new SourceCategoryUrl(c.source,c.category),c.atomicArray=c.sourceCategoryUrlClass.db.atomicArray,c.atomicArray.$on({initialLotSize:1e3}).then(function(e){document.addEventListener(e+"_apply_filters",function(){o(function(){})},!1),o(function(){})})))},!0),c.$watch("category",function(o,e){void 0!=o&&(c.category=o)},!0)}}}]);