app.component("securityUsers",{templateUrl:"/core/components/app/security/users/users.html",bindings:{},controller:["$scope","$timeout","$window","$rootScope","Dialog",function(e,t,n,i,o){var r=new User;e.config={atomicArray:r.db.atomicArray,parentScope:e,initialLotSize:1e3,nextLotSize:1e3,templateUrl:"/core/components/app/security/users/users.tpl.html",wrapper:"infiniteScroll",animation:{type:"entrance",in:"zoomIn",out:"zoomOut"}};var s=new Section;e.sectionsArray=s.db.atomicArray,e.sectionsArray.$on({initialLotSize:1e3}).then(function(e){document.addEventListener(e+"_apply_filters",function(){t(function(){})},!1)}),e.userSelected=!1,e.selectedUser={},e.submitting=!1,e.updateAdmin=function(){e.submitting=!0,e.selectedUser.isAdmin=!0,r.db.query.update(e.selectedUser).then(function(){e.cancel()})},e.demoteAdmin=function(){e.submitting=!1,e.selectedUser.isAdmin=!1,e.selectedUser.authority=0,r.db.query.update(e.selectedUser).then(function(){e.cancel()})},e.selectUser=function(t,n){e.selectedUser=n,e.showForm()},e.showForm=function(){o.show(event,e,{templateUrl:"/core/components/app/security/users/userForm.html"})},i.$on("queryUpdate",function(t,n){e.query=n}),e.cancel=function(){e.userSelected=!1,e.selectedUser={},e.submitting=!1,o.hide()}}]});