app.component("securitySections",{templateUrl:"/core/components/app/security/sections/sections.html",bindings:{},controller:["$scope","Dialog","$rootScope","Message",function(e,t,n,o){var c=new Section;e.config={atomicArray:c.db.atomicArray,parentScope:e,initialLotSize:1e3,nextLotSize:1e3,templateUrl:"/core/components/app/security/sections/sections.tpl.html",wrapper:"infiniteScroll",animation:{type:"entrance",in:"zoomIn",out:"zoomOut"}},e.sectionSelected=!1,e.selectedSection={},e.query="",e.searching=!1,e.saveSection=function(){e.sectionSelected?c.db.query.update(e.selectedSection).then(function(){e.cancel()}).catch(function(t){o.toast({text:"Hubo un error.",theme:"toast-red"}),console.log(t),e.cancel()}):c.db.query.create(e.selectedSection).then(function(){e.cancel()}).catch(function(t){o.toast({text:"Hubo un error.",theme:"toast-red"}),console.log(t),e.cancel()})},e.removeSection=function(t){c.db.query.remove(t).then(function(){e.cancel()}).catch(function(t){o.toast({text:"Hubo un error.",theme:"toast-red"}),console.log(t),e.cancel()})},e.selectSection=function(t,n){e.selectedSection=n,e.sectionSelected=!0,e.showSectionForm(t)},e.showSectionForm=function(n){var o={templateUrl:"core/components/app/security/sections/sectionForm.html",customFullscreen:!0};t.show(n,e,o)},e.confirmRemoval=function(n,o){var c={title:"Eliminar Secci√≥n",textContent:'Estas seguro que deseas eliminar "'+o.name+'"?',okText:"Eliminar",cancelText:"Cancelar"};t.confirm(n,c).then(function(t){t&&e.removeSection(o)})},e.cancel=function(){e.sectionSelected=!1,e.selectedSection={},t.hide()},n.$on("queryUpdate",function(t,n){e.query=n})}]});