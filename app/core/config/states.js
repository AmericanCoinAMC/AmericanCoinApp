app.config(["$stateProvider","$urlRouterProvider",function(e,o){o.otherwise("/intro"),e.state("intro",{url:"/intro",template:"<intro></intro>",resolve:{}}).state("app",{url:"/app",abstract:!0,template:'<app categories-data="$resolve.categoriesData"></app>',resolve:{categoriesData:["$firebaseArray",function(e){return e(rootRef.child("categories").orderByPriority()).$loaded()}],activeSources:["ActiveSources","$rootScope","$q",function(e,o,r){var t=r.defer();return e(rootRef.child("sources").orderByChild("status/active").equalTo(!0)).$loaded().then(function(e){o.activeSources=e,t.resolve(e)}),t.promise}],userIgnoredSources:["$q","IgnoredSources","Auth","$rootScope",function(e,o,r,t){var a=e.defer();return r.$requireSignIn().then(function(){var e=r.$getAuth();o(rootRef.child("ignoredSources/"+e.uid)).$loaded().then(function(e){t.userIgnoredSources=e,a.resolve(e)}).catch(function(e){console.log(e),a.reject(e)})}).catch(function(e){console.log(e),a.reject(e)}),a.promise}],bookmarkPosts:["$q","BookmarkPosts","Auth","$rootScope",function(e,o,r,t){var a=e.defer();return r.$requireSignIn().then(function(){var e=r.$getAuth();o(rootRef.child("bookmarkedPosts/"+e.uid)).$loaded().then(function(e){t.bookmarkPosts=e,a.resolve(e)}).catch(function(e){console.log(e),a.reject(e)})}).catch(function(e){console.log(e),a.reject(e)}),a.promise}],bookmarkHashtags:["$q","BookmarkHashtags","Auth","$rootScope",function(e,o,r,t){var a=e.defer();return r.$requireSignIn().then(function(){var e=r.$getAuth();o(rootRef.child("bookmarkedHashtags/"+e.uid)).$loaded().then(function(e){t.bookmarkHashtags=e,a.resolve(e)}).catch(function(e){console.log(e),a.reject(e)})}).catch(function(e){console.log(e),a.reject(e)}),a.promise}],bookmarkLeaders:["$q","BookmarkLeaders","Auth","$rootScope",function(e,o,r,t){var a=e.defer();return r.$requireSignIn().then(function(){var e=r.$getAuth();o(rootRef.child("bookmarkedLeaders/"+e.uid)).$loaded().then(function(e){t.bookmarkLeaders=e,a.resolve(e)}).catch(function(e){console.log(e),a.reject(e)})}).catch(function(e){console.log(e),a.reject(e)}),a.promise}]}}).state("app.minoticiero",{url:"/minoticiero",template:"<minoticiero></minoticiero>",resolve:{}}).state("app.news",{url:"/news",template:'<news categories-data="$resolve.categoriesData"></news>',resolve:{}}).state("app.news.category",{url:"/:categoryId",template:"<news-category></news-category>",resolve:{}}).state("app.sourcePosts",{url:"/sourcePosts",template:'<source-posts source-data="$resolve.sourceData" source-categories-data="$resolve.sourceCategoriesData"></source-posts>',params:{sourceId:null},resolve:{sourceData:["$rootScope","GetDataService","$stateParams","$q",function(e,o,r,t){var a=t.defer();return o.getSourceData(r.sourceId).then(function(e){e?a.resolve(e):a.reject("SOURCE_DATA_NOT_FOUND")}).catch(function(e){console.log(e),a.reject("SOURCE_DATA_NOT_FOUND")}),a.promise}],sourceCategoriesData:["$firebaseArray","$stateParams",function(e,o){return e(rootRef.child("sourcesCategories/"+o.sourceId).orderByPriority()).$loaded()}]}}).state("app.sourcePosts.category",{url:"/category",template:"<source-posts-category></source-posts-category>",params:{sourceId:null,categoryId:null},resolve:{}}).state("app.hashtags",{url:"/hashtags",template:"<hashtags></hashtags>",resolve:{}}).state("app.leaders",{url:"/leaders",template:"<leaders></leaders>",resolve:{}})}]);