app.run(["$rootScope","$state","$stateParams","Auth","Message","$mdMedia","SideNavigation","UserService","amMoment","$window",function(e,a,t,r,n,o,s,u,i,c){i.changeLocale("es"),e.preloader=!1,e.userAuthenticated=!1,e.userInfo={},e.firebaseUser={},e.userFav="default.png",e.appContainer="views-container",e.navigatorLanguage=c.navigator.language||c.navigator.userLanguage,r.$onAuthStateChanged(function(t){t?(e.userAuthenticated=!0,e.firebaseUser=t,u.getUserInfo(e.firebaseUser.uid).then(function(a){e.userInfo=a,e.userFav=a.preferences.theme+".png"}),"intro"==a.current.name&&a.go("app.minoticiero")):(e.userAuthenticated=!1,e.firebaseUser={},e.userInfo={},e.userFav="default.png",a.go("intro"))}),e.$watch("userInfo",function(){void 0!=e.userInfo.preferences&&(e.userFav=e.userInfo.preferences.theme+".png")},!0),e.$on("$stateChangeStart",function(a,t,r,n,o,s){e.preloader=!0,e.toState=t,e.fromState=n,e.toStateParams=r,e.fromStateParams=o}),e.$on("$stateChangeSuccess",function(a,t,r,n,u){e.preloader=!1,e.currentState=t;var i=o("xs")||o("sm")||o("md");i&&s.close("left")}),e.$on("$stateChangeError",function(t,r,n,o,s,u){console.log("stateChangeError"),console.log(u),"AUTH_REQUIRED"===u&&(a.go("intro"),e.preloader=!1)})}]);