app.run(["$rootScope","$state","$stateParams","Auth","Message","$mdMedia","SideNavigation","UserService","amMoment","$window",function(e,a,t,n,o,r,s,i,g,u){g.changeLocale("es"),e.preloader=!1,e.userAuthenticated=!1,e.userInfo={},e.firebaseUser={},e.navigatorLanguage=u.navigator.language||u.navigator.userLanguage,console.log(e.navigatorLanguage),n.$onAuthStateChanged(function(t){t?(e.userAuthenticated=!0,e.firebaseUser=t,i.getUserInfo(e.firebaseUser.uid).then(function(a){e.userInfo=a}),"intro"==a.current.name&&a.go("app.main")):(e.userAuthenticated=!1,e.firebaseUser={},e.userInfo={},a.go("intro"))}),e.$on("$stateChangeStart",function(a,t,n,o,r,s){e.preloader=!0,e.toState=t,e.toStateParams=n}),e.$on("$stateChangeSuccess",function(a,t,n,o,i){e.preloader=!1;var g=r("xs")||r("sm")||r("md");g&&s.close("left")}),e.$on("$stateChangeError",function(t,n,o,r,s,i){console.log("stateChangeError"),console.log(i),"AUTH_REQUIRED"===i&&(a.go("intro"),e.preloader=!1)})}]);